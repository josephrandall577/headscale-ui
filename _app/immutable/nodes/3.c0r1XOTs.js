import{s as ge,c as le,a as Z,n as R,r as xe,h as ce,d as Oe,o as Lt,k as Re,F as Ge}from"../chunks/scheduler.CxMg9YiE.js";import{S as be,i as ke,o as fe,g as E,k as H,u as He,p as Y,q as Ie,d as h,e as k,s as x,c as w,a as C,f as B,m as v,h as p,n as $,L as Nt,I as Le,t as re,b as se,A as Se,B as j,l as O,G as he,H as ze,K as Ke,j as ve,J as xt,M as me,w as Te,x as ye,y as De,z as Ce,N as We,D as Ee,E as Me}from"../chunks/index.DDwUPhoj.js";import{a as ie,k as At,l as pe,t as jt,u as Bt,m as Vt,o as Pt,p as Rt,q as zt,c as Kt}from"../chunks/apiFunctions.gTThIP4u.js";import{b as Ht}from"../chunks/paths.C-PAN-v-.js";import{p as It}from"../chunks/stores.DrWWVQPB.js";import{i as ne,b as Ut,f as ee,D as Be,j as Ye,c as Fe,l as Je,k as Pe,g as qt,e as Ft,d as Jt}from"../chunks/stores.B5fiO9R7.js";import{g as Gt}from"../chunks/entry.D0iwKhlv.js";function tt(r,e,t){const n=r.slice();return n[15]=e[t],n}function lt(r,e,t){const n=r.slice();return n[18]=e[t],n[20]=t,n}function nt(r){let e,t,n,l,i,s,u,o,f=ie(r[6]),c=[];for(let _=0;_<f.length;_+=1)c[_]=it(lt(r,f,_));let a=r[4]==0&&rt(r),d=r[4]==1&&ot(),g=r[4]==2&&at();return{c(){e=k("div"),t=k("div");for(let _=0;_<c.length;_+=1)c[_].c();n=x(),a&&a.c(),l=x(),d&&d.c(),i=x(),g&&g.c(),this.h()},l(_){e=w(_,"DIV",{class:!0});var m=C(e);t=w(m,"DIV",{class:!0});var b=C(t);for(let D=0;D<c.length;D+=1)c[D].l(b);b.forEach(h),n=B(m),a&&a.l(m),l=B(m),d&&d.l(m),i=B(m),g&&g.l(m),m.forEach(h),this.h()},h(){v(t,"class","tabs"),v(e,"class","p-2 max-w-screen-lg border border-dashed border-base-content mx-4 rounded-md text-sm text-base-content shadow mb-10")},m(_,m){E(_,e,m),p(e,t);for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(t,null);p(e,n),a&&a.m(e,null),p(e,l),d&&d.m(e,null),p(e,i),g&&g.m(e,null),o=!0},p(_,m){if(r=_,m&80){f=ie(r[6]);let b;for(b=0;b<f.length;b+=1){const D=lt(r,f,b);c[b]?c[b].p(D,m):(c[b]=it(D),c[b].c(),c[b].m(t,null))}for(;b<c.length;b+=1)c[b].d(1);c.length=f.length}r[4]==0?a?(a.p(r,m),m&16&&H(a,1)):(a=rt(r),a.c(),H(a,1),a.m(e,l)):a&&(a.d(1),a=null),r[4]==1?d?m&16&&H(d,1):(d=ot(),d.c(),H(d,1),d.m(e,i)):d&&(d.d(1),d=null),r[4]==2?g?m&16&&H(g,1):(g=at(),g.c(),H(g,1),g.m(e,null)):g&&(g.d(1),g=null)},i(_){o||(H(a),H(d),H(g),Z(()=>{o&&(u&&u.end(1),s=$(e,ee,{}),s.start())}),o=!0)},o(_){s&&s.invalidate(),u=Nt(e,ee,{duration:r[0]?0:500}),o=!1},d(_){_&&h(e),Le(c,_),a&&a.d(),d&&d.d(),g&&g.d(),_&&u&&u.end()}}}function it(r){let e,t=r[18]+"",n,l,i;function s(){return r[8](r[20])}return{c(){e=k("button"),n=re(t),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var o=C(e);n=se(o,t),o.forEach(h),this.h()},h(){v(e,"class","tab tab-bordered h-fit w-1/3"),Se(e,"tab-active",r[4]==r[20])},m(u,o){E(u,e,o),p(e,n),l||(i=j(e,"click",s),l=!0)},p(u,o){r=u,o&16&&Se(e,"tab-active",r[4]==r[20])},d(u){u&&h(e),l=!1,i()}}}function rt(r){let e,t,n='Install Tailscale with the client pointing to your domain (see <a target="_blank" rel="noreferrer" class="link link-primary" href="https://github.com/juanfont/headscale/tree/main/docs">headscale client documentation</a>). Log in using the tray icon, and your browser should give you instructions with a key.',l,i,s="<code>headscale -u USER nodes register --key &lt;your device key&gt;</code>",u,o,f="<p>Copy the key below:</p>",c,a,d,g,_="Device Key",m,b,D,y,M,q="Select User",L,I,F,S,U,T='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-1 inline rounded-full hover:bg-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',N,A,V='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 mx-1 inline rounded-full hover:bg-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',W,te,de,ue=ie(r[5]),J=[];for(let P=0;P<ue.length;P+=1)J[P]=st(tt(r,ue,P));return{c(){e=k("div"),t=k("p"),t.innerHTML=n,l=x(),i=k("div"),i.innerHTML=s,u=x(),o=k("div"),o.innerHTML=f,c=x(),a=k("form"),d=k("div"),g=k("label"),g.textContent=_,m=x(),b=k("input"),D=x(),y=k("div"),M=k("label"),M.textContent=q,L=x(),I=k("select");for(let P=0;P<J.length;P+=1)J[P].c();F=x(),S=k("div"),U=k("button"),U.innerHTML=T,N=x(),A=k("button"),A.innerHTML=V,this.h()},l(P){e=w(P,"DIV",{class:!0});var Q=C(e);t=w(Q,"P",{"data-svelte-h":!0}),O(t)!=="svelte-1iolw9y"&&(t.innerHTML=n),l=B(Q),i=w(Q,"DIV",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-ki90vb"&&(i.innerHTML=s),u=B(Q),o=w(Q,"DIV",{class:!0,"data-svelte-h":!0}),O(o)!=="svelte-quhcv1"&&(o.innerHTML=f),c=B(Q),a=w(Q,"FORM",{class:!0});var z=C(a);d=w(z,"DIV",{class:!0});var oe=C(d);g=w(oe,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(g)!=="svelte-18o625f"&&(g.textContent=_),m=B(oe),b=w(oe,"INPUT",{minlength:!0,class:!0,type:!0,placeholder:!0}),oe.forEach(h),D=B(z),y=w(z,"DIV",{class:!0});var _e=C(y);M=w(_e,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),O(M)!=="svelte-17w6y3k"&&(M.textContent=q),L=B(_e),I=w(_e,"SELECT",{class:!0});var X=C(I);for(let ae=0;ae<J.length;ae+=1)J[ae].l(X);X.forEach(h),_e.forEach(h),F=B(z),S=w(z,"DIV",{class:!0});var K=C(S);U=w(K,"BUTTON",{"data-svelte-h":!0}),O(U)!=="svelte-6jw4ga"&&(U.innerHTML=T),N=B(K),A=w(K,"BUTTON",{type:!0,"data-svelte-h":!0}),O(A)!=="svelte-k8yg8l"&&(A.innerHTML=V),K.forEach(h),z.forEach(h),Q.forEach(h),this.h()},h(){v(i,"class","m-2"),v(o,"class","my-2"),v(g,"class","block text-secondary text-sm font-bold mb-2"),v(g,"for","text"),v(b,"minlength","54"),v(b,"class","card-input"),v(b,"type","text"),b.required=!0,v(b,"placeholder","******************"),v(d,"class","flex-none mr-4"),v(M,"class","block text-secondary text-sm font-bold mb-2"),v(M,"for","select"),v(I,"class","card-select mr-3"),I.required=!0,r[3]===void 0&&Z(()=>r[10].call(I)),v(y,"class","flex-none"),v(A,"type","button"),v(S,"class","flex-none pt-6"),v(a,"class","flex flex-wrap"),v(e,"class","m-2")},m(P,Q){E(P,e,Q),p(e,t),p(e,l),p(e,i),p(e,u),p(e,o),p(e,c),p(e,a),p(a,d),p(d,g),p(d,m),p(d,b),he(b,r[1]),p(a,D),p(a,y),p(y,M),p(y,L),p(y,I);for(let z=0;z<J.length;z+=1)J[z]&&J[z].m(I,null);ze(I,r[3],!0),p(a,F),p(a,S),p(S,U),p(S,N),p(S,A),r[12](a),te||(de=[j(b,"input",r[9]),j(I,"change",r[10]),j(A,"click",r[11]),j(a,"submit",Ke(r[7]))],te=!0)},p(P,Q){if(Q&2&&b.value!==P[1]&&he(b,P[1]),Q&32){ue=ie(P[5]);let z;for(z=0;z<ue.length;z+=1){const oe=tt(P,ue,z);J[z]?J[z].p(oe,Q):(J[z]=st(oe),J[z].c(),J[z].m(I,null))}for(;z<J.length;z+=1)J[z].d(1);J.length=ue.length}Q&40&&ze(I,P[3])},i(P){W||Z(()=>{W=$(e,ee,{}),W.start()})},o:R,d(P){P&&h(e),Le(J,P),r[12](null),te=!1,xe(de)}}}function st(r){let e,t=r[15].name+"",n,l;return{c(){e=k("option"),n=re(t),this.h()},l(i){e=w(i,"OPTION",{});var s=C(e);n=se(s,t),s.forEach(h),this.h()},h(){e.__value=l=r[15].name,he(e,e.__value)},m(i,s){E(i,e,s),p(e,n)},p(i,s){s&32&&t!==(t=i[15].name+"")&&ve(n,t),s&32&&l!==(l=i[15].name)&&(e.__value=l,he(e,e.__value))},d(i){i&&h(e)}}}function ot(r){let e,t=`<p>Preauth Keys provide the capability to install tailscale using a pre-registered key (see the <code class="bg-base-200 px-2 rounded">--authkey</code> flag in the <a target="_blank" rel="noreferrer" class="link link-primary" href="https://tailscale.com/kb/1080/cli/">tailscale command line documentation</a>)</p> <p>Preauth Keys are especially useful for deploying headscale as an always-on VPN (see the <code class="bg-base-200 px-2 rounded">TS_UNATTENDEDMODE</code> install option in the <a target="_blank" rel="noreferrer" class="link link-primary" href="https://tailscale.com/kb/1189/install-windows-msi/">tailscale documentation</a>) or router-level VPN.</p> <div class="bg-base-200 p-4 m-2 rounded-xl"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="pl-2">Preauth Keys can be managed in the <a href="${Ht}/" class="link link-primary">User Section</a> of the UI</span></div>`,n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(l){e=w(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-cnfl1x"&&(e.innerHTML=t),this.h()},h(){v(e,"class","m-2")},m(l,i){E(l,e,i)},i(l){n||Z(()=>{n=$(e,ee,{}),n.start()})},o:R,d(l){l&&h(e)}}}function at(r){let e,t='<p>OIDC provides the ability to register an external authentication provider (such as <a target="_blank" rel="noreferrer" class="link link-primary" href="https://www.keycloak.org/">keycloak</a>) to authenticate devices to headscale.</p> <br/> <p>Configure Headscale to register with an authentication provider (see <a target="_blank" rel="noreferrer" class="link link-primary" href="https://github.com/juanfont/headscale/blob/main/config-example.yaml">headscale configuration documentation</a>). Once configured, successfully authenticated devices will automatically self-register</p>',n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(l){e=w(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-au2m9t"&&(e.innerHTML=t),this.h()},h(){v(e,"class","m-2")},m(l,i){E(l,e,i)},i(l){n||Z(()=>{n=$(e,ee,{}),n.start()})},o:R,d(l){l&&h(e)}}}function Wt(r){let e,t,n=r[0]==!0&&nt(r);return{c(){n&&n.c(),e=fe()},l(l){n&&n.l(l),e=fe()},m(l,i){n&&n.m(l,i),E(l,e,i),t=!0},p(l,[i]){l[0]==!0?n?(n.p(l,i),i&1&&H(n,1)):(n=nt(l),n.c(),H(n,1),n.m(e.parentNode,e)):n&&(He(),Y(n,1,1,()=>{n=null}),Ie())},i(l){t||(H(n),t=!0)},o(l){Y(n),t=!1},d(l){l&&h(e),n&&n.d(l)}}}function Yt(r,e,t){let n,l,i;le(r,ne,y=>t(13,n=y)),le(r,It,y=>t(14,l=y)),le(r,Ut,y=>t(5,i=y));let{newDeviceCardVisible:s=!1}=e,{newDeviceKey:u=""}=e,o,f="",c=["Default Configuration","With Preauth Keys","With OIDC"],a=0;function d(){o.reportValidity()?At(u,f).then(y=>{t(0,s=!1),t(1,u=""),pe(),l.url.searchParams.get("nodekey")&&(l.url.searchParams.delete("nodekey"),Gt(`?${l.url.searchParams.toString()}`))}).catch(y=>{ce(ne,n=y,n)}):ce(ne,n="provide a valid key",n)}const g=y=>t(4,a=y);function _(){u=this.value,t(1,u)}function m(){f=xt(this),t(3,f)}const b=()=>{t(0,s=!1),t(1,u="")};function D(y){Oe[y?"unshift":"push"](()=>{o=y,t(2,o)})}return r.$$set=y=>{"newDeviceCardVisible"in y&&t(0,s=y.newDeviceCardVisible),"newDeviceKey"in y&&t(1,u=y.newDeviceKey)},[s,u,o,f,a,i,c,d,g,_,m,b,D]}class Zt extends be{constructor(e){super(),ke(this,e,Yt,Wt,ge,{newDeviceCardVisible:0,newDeviceKey:1})}}var Ot=function(r,e,t,n){function l(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(c){try{f(n.next(c))}catch(a){s(a)}}function o(c){try{f(n.throw(c))}catch(a){s(a)}}function f(c){c.done?i(c.value):l(c.value).then(u,o)}f((n=n.apply(r,e||[])).next())})};function Qt(r){return Ot(this,void 0,void 0,function*(){yield jt();let e=localStorage.getItem("headscaleURL")||"",t=localStorage.getItem("headscaleAPIKey")||"",l=`/api/v1/${localStorage.getItem("headscaleAPIMachineOrNode")||"machine"}/${r}/routes`,i=[],s=new Response;return yield fetch(e+l,{method:"GET",headers:{Accept:"application/json",Authorization:`Bearer ${t}`}}).then(u=>{if(u.ok)s=u;else return u.text().then(o=>{throw JSON.parse(o).message})}).catch(u=>{throw u}),yield s.json().then(u=>{i=u.routes}),i})}function Xt(r,e,t){return Ot(this,void 0,void 0,function*(){let n=localStorage.getItem("headscaleURL")||"",l=localStorage.getItem("headscaleAPIKey")||"",i="";e.forEach(s=>{s.id==t&&(i=`/api/v1/routes/${t}/`,s.enabled?i+="enable":i+="disable")}),new Response,yield fetch(n+i,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${l}`}}).then(s=>{if(!s.ok)return s.text().then(u=>{throw JSON.parse(u).message})}).catch(s=>{throw s})})}function ct(r,e,t){const n=r.slice();return n[9]=e[t],n[11]=t,n}function $t(r){let e,t="pending",n,l;function i(){return r[5](r[11],r[9])}return{c(){e=k("button"),e.textContent=t,this.h()},l(s){e=w(s,"BUTTON",{type:!0,class:!0,"data-tip":!0,"data-svelte-h":!0}),O(e)!=="svelte-720bog"&&(e.textContent=t),this.h()},h(){v(e,"type","button"),v(e,"class","btn btn-xs tooltip capitalize bg-secondary text-secondary-content mx-1"),v(e,"data-tip","press to enable route")},m(s,u){E(s,e,u),n||(l=j(e,"click",i),n=!0)},p(s,u){r=s},d(s){s&&h(e),n=!1,l()}}}function el(r){let e,t="active",n,l;function i(){return r[4](r[11],r[9])}return{c(){e=k("button"),e.textContent=t,this.h()},l(s){e=w(s,"BUTTON",{type:!0,class:!0,"data-tip":!0,"data-svelte-h":!0}),O(e)!=="svelte-cruggs"&&(e.textContent=t),this.h()},h(){v(e,"type","button"),v(e,"class","btn btn-xs tooltip capitalize bg-success text-success-content mx-1"),v(e,"data-tip","press to disable route")},m(s,u){E(s,e,u),n||(l=j(e,"click",i),n=!0)},p(s,u){r=s},d(s){s&&h(e),n=!1,l()}}}function ut(r){let e,t=r[9].prefix+"",n,l,i;function s(f,c){return f[9].enabled?el:$t}let u=s(r),o=u(r);return{c(){e=k("li"),n=re(t),l=x(),o.c(),i=x()},l(f){e=w(f,"LI",{});var c=C(e);n=se(c,t),l=B(c),o.l(c),i=B(c),c.forEach(h)},m(f,c){E(f,e,c),p(e,n),p(e,l),o.m(e,null),p(e,i)},p(f,c){c&1&&t!==(t=f[9].prefix+"")&&ve(n,t),u===(u=s(f))&&o?o.p(f,c):(o.d(1),o=u(f),o&&(o.c(),o.m(e,i)))},d(f){f&&h(e),o.d()}}}function tl(r){let e,t="Device Routes",n,l,i,s=ie(r[0]),u=[];for(let o=0;o<s.length;o+=1)u[o]=ut(ct(r,s,o));return{c(){e=k("th"),e.textContent=t,n=x(),l=k("td"),i=k("ul");for(let o=0;o<u.length;o+=1)u[o].c();this.h()},l(o){e=w(o,"TH",{"data-svelte-h":!0}),O(e)!=="svelte-7hscqe"&&(e.textContent=t),n=B(o),l=w(o,"TD",{});var f=C(l);i=w(f,"UL",{class:!0});var c=C(i);for(let a=0;a<u.length;a+=1)u[a].l(c);c.forEach(h),f.forEach(h),this.h()},h(){v(i,"class","list-disc list-inside")},m(o,f){E(o,e,f),E(o,n,f),E(o,l,f),p(l,i);for(let c=0;c<u.length;c+=1)u[c]&&u[c].m(i,null)},p(o,[f]){if(f&7){s=ie(o[0]);let c;for(c=0;c<s.length;c+=1){const a=ct(o,s,c);u[c]?u[c].p(a,f):(u[c]=ut(a),u[c].c(),u[c].m(i,null))}for(;c<u.length;c+=1)u[c].d(1);u.length=s.length}},i:R,o:R,d(o){o&&(h(e),h(n),h(l)),Le(u,o)}}}function ll(r,e,t){let n;le(r,ne,d=>t(6,n=d));var l=this&&this.__awaiter||function(d,g,_,m){function b(D){return D instanceof _?D:new _(function(y){y(D)})}return new(_||(_=Promise))(function(D,y){function M(I){try{L(m.next(I))}catch(F){y(F)}}function q(I){try{L(m.throw(I))}catch(F){y(F)}}function L(I){I.done?D(I.value):b(I.value).then(M,q)}L((m=m.apply(d,g||[])).next())})};let{device:i=new Be}=e,s=[],u=0;Lt(()=>l(void 0,void 0,void 0,function*(){o()}));function o(){Qt(i.id).then(d=>{t(0,s=d)}).catch(d=>{ce(ne,n=d,n)})}function f(){Xt(i.id,s,u).then(d=>{o()}).catch(d=>{ce(ne,n=d,n)})}const c=(d,g)=>{t(0,s[d].enabled=!1,s),t(1,u=g.id),f()},a=(d,g)=>{t(0,s[d].enabled=!0,s),t(1,u=g.id),f()};return r.$$set=d=>{"device"in d&&t(3,i=d.device)},[s,u,f,i,c,a]}class nl extends be{constructor(e){super(),ke(this,e,ll,tl,ge,{device:3})}}function il(r){let e,t,n,l,i='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',s,u,o,f='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',c,a,d;return{c(){e=k("form"),t=k("input"),n=x(),l=k("button"),l.innerHTML=i,u=x(),o=k("button"),o.innerHTML=f,this.h()},l(g){e=w(g,"FORM",{});var _=C(e);t=w(_,"INPUT",{class:!0}),n=B(_),l=w(_,"BUTTON",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1alfzgj"&&(l.innerHTML=i),u=B(_),o=w(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(o)!=="svelte-1nes1i4"&&(o.innerHTML=f),_.forEach(h),this.h()},h(){t.autofocus=!0,t.required=!0,v(t,"class","bg-primary w-16"),v(l,"class","ml-1"),v(o,"type","button"),v(o,"class","ml-1")},m(g,_){E(g,e,_),p(e,t),he(t,r[1]),p(e,n),p(e,l),p(e,u),p(e,o),t.focus(),a||(d=[j(t,"input",r[4]),j(o,"click",me(r[5])),j(e,"submit",Ke(r[2]))],a=!0)},p(g,_){_&2&&t.value!==g[1]&&he(t,g[1])},i(g){s||Z(()=>{s=$(l,ee,{}),s.start()}),c||Z(()=>{c=$(o,ee,{}),c.start()})},o:R,d(g){g&&h(e),a=!1,xe(d)}}}function rl(r){let e,t="+ tag";return{c(){e=k("span"),e.textContent=t},l(n){e=w(n,"SPAN",{"data-svelte-h":!0}),O(e)!=="svelte-hw5iwt"&&(e.textContent=t)},m(n,l){E(n,e,l)},p:R,i:R,o:R,d(n){n&&h(e)}}}function sl(r){let e,t,n;function l(u,o){return u[0]?il:rl}let i=l(r),s=i(r);return{c(){e=k("button"),s.c(),this.h()},l(u){e=w(u,"BUTTON",{class:!0});var o=C(e);s.l(o),o.forEach(h),this.h()},h(){v(e,"class","btn btn-xs border-dotted border-2 btn-primary opacity-60 normal-case")},m(u,o){E(u,e,o),s.m(e,null),t||(n=j(e,"click",me(r[6])),t=!0)},p(u,[o]){i===(i=l(u))&&s?s.p(u,o):(s.d(1),s=i(u),s&&(s.c(),H(s,1),s.m(e,null)))},i(u){H(s)},o:R,d(u){u&&h(e),s.d(),t=!1,n()}}}function ol(r,e,t){let n;le(r,ne,a=>t(7,n=a));let l=!1,i="",{device:s=new Be}=e;function u(){let a=s.forcedTags;a.push(`tag:${i}`),a=[...new Set(a)],Bt(s.id,a).then(d=>{t(0,l=!1),t(1,i=""),pe()}).catch(d=>{ce(ne,n=d,n)})}function o(){i=this.value,t(1,i)}const f=()=>{t(0,l=!1),t(1,i="")},c=()=>{t(0,l=!0)};return r.$$set=a=>{"device"in a&&t(3,s=a.device)},[l,i,u,s,o,f,c]}class al extends be{constructor(e){super(),ke(this,e,ol,sl,ge,{device:3})}}function ft(r,e,t){const n=r.slice();return n[4]=e[t],n}function dt(r,e,t){const n=r.slice();return n[4]=e[t],n}function ht(r){let e,t=r[4].replace("tag:","")+"",n,l,i,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',u,o;function f(){return r[2](r[4])}return{c(){e=k("span"),n=re(t),l=x(),i=k("button"),i.innerHTML=s,this.h()},l(c){e=w(c,"SPAN",{class:!0});var a=C(e);n=se(a,t),l=B(a),i=w(a,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-14k4jow"&&(i.innerHTML=s),a.forEach(h),this.h()},h(){v(i,"class","ml-1"),v(e,"class","mb-1 mr-1 btn btn-xs btn-primary normal-case")},m(c,a){E(c,e,a),p(e,n),p(e,l),p(e,i),u||(o=j(i,"click",me(f)),u=!0)},p(c,a){r=c,a&1&&t!==(t=r[4].replace("tag:","")+"")&&ve(n,t)},d(c){c&&h(e),u=!1,o()}}}function vt(r){let e,t=r[4].replace("tag:","")+"",n;return{c(){e=k("span"),n=re(t),this.h()},l(l){e=w(l,"SPAN",{class:!0});var i=C(e);n=se(i,t),i.forEach(h),this.h()},h(){v(e,"class","mb-1 mr-1 btn btn-xs btn-secondary normal-case")},m(l,i){E(l,e,i),p(e,n)},p(l,i){i&1&&t!==(t=l[4].replace("tag:","")+"")&&ve(n,t)},d(l){l&&h(e)}}}function cl(r){let e,t,n,l,i,s;t=new al({props:{device:r[0]}});let u=ie(r[0].forcedTags),o=[];for(let a=0;a<u.length;a+=1)o[a]=ht(dt(r,u,a));let f=ie(r[0].validTags),c=[];for(let a=0;a<f.length;a+=1)c[a]=vt(ft(r,f,a));return{c(){e=k("span"),Te(t.$$.fragment),n=x();for(let a=0;a<o.length;a+=1)o[a].c();l=x();for(let a=0;a<c.length;a+=1)c[a].c();i=fe()},l(a){e=w(a,"SPAN",{});var d=C(e);ye(t.$$.fragment,d),d.forEach(h),n=B(a);for(let g=0;g<o.length;g+=1)o[g].l(a);l=B(a);for(let g=0;g<c.length;g+=1)c[g].l(a);i=fe()},m(a,d){E(a,e,d),De(t,e,null),E(a,n,d);for(let g=0;g<o.length;g+=1)o[g]&&o[g].m(a,d);E(a,l,d);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(a,d);E(a,i,d),s=!0},p(a,[d]){const g={};if(d&1&&(g.device=a[0]),t.$set(g),d&3){u=ie(a[0].forcedTags);let _;for(_=0;_<u.length;_+=1){const m=dt(a,u,_);o[_]?o[_].p(m,d):(o[_]=ht(m),o[_].c(),o[_].m(l.parentNode,l))}for(;_<o.length;_+=1)o[_].d(1);o.length=u.length}if(d&1){f=ie(a[0].validTags);let _;for(_=0;_<f.length;_+=1){const m=ft(a,f,_);c[_]?c[_].p(m,d):(c[_]=vt(m),c[_].c(),c[_].m(i.parentNode,i))}for(;_<c.length;_+=1)c[_].d(1);c.length=f.length}},i(a){s||(H(t.$$.fragment,a),s=!0)},o(a){Y(t.$$.fragment,a),s=!1},d(a){a&&(h(e),h(n),h(l),h(i)),Ce(t),Le(o,a),Le(c,a)}}}function ul(r,e,t){let n;le(r,ne,u=>t(3,n=u));let{device:l=new Be}=e;function i(u){let o=l.forcedTags;o=o.filter(f=>f!==u),Bt(l.id,o).then(f=>{pe()}).catch(f=>{ce(ne,n=f,n)})}const s=u=>{i(u)};return r.$$set=u=>{"device"in u&&t(0,l=u.device)},[l,i,s]}class fl extends be{constructor(e){super(),ke(this,e,ul,cl,ge,{device:0})}}function _t(r,e,t){const n=r.slice();return n[9]=e[t],n}function dl(r){let e,t,n,l,i='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',s,u,o,f='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',c,a,d,g=ie(r[3]),_=[];for(let m=0;m<g.length;m+=1)_[m]=pt(_t(r,g,m));return{c(){e=k("form"),t=k("select");for(let m=0;m<_.length;m+=1)_[m].c();n=x(),l=k("button"),l.innerHTML=i,u=x(),o=k("button"),o.innerHTML=f,this.h()},l(m){e=w(m,"FORM",{});var b=C(e);t=w(b,"SELECT",{class:!0});var D=C(t);for(let y=0;y<_.length;y+=1)_[y].l(D);D.forEach(h),n=B(b),l=w(b,"BUTTON",{class:!0,"data-svelte-h":!0}),O(l)!=="svelte-xktkcq"&&(l.innerHTML=i),u=B(b),o=w(b,"BUTTON",{type:!0,"data-svelte-h":!0}),O(o)!=="svelte-11oy0dm"&&(o.innerHTML=f),b.forEach(h),this.h()},h(){v(t,"class","card-select mr-3"),t.required=!0,r[2]===void 0&&Z(()=>r[6].call(t)),v(l,"class",""),v(o,"type","button")},m(m,b){E(m,e,b),p(e,t);for(let D=0;D<_.length;D+=1)_[D]&&_[D].m(t,null);ze(t,r[2],!0),p(e,n),p(e,l),p(e,u),p(e,o),a||(d=[j(t,"change",r[6]),j(o,"click",me(r[7])),j(e,"submit",Ke(r[4]))],a=!0)},p(m,b){if(b&8){g=ie(m[3]);let D;for(D=0;D<g.length;D+=1){const y=_t(m,g,D);_[D]?_[D].p(y,b):(_[D]=pt(y),_[D].c(),_[D].m(t,null))}for(;D<_.length;D+=1)_[D].d(1);_.length=g.length}b&12&&ze(t,m[2])},i(m){s||Z(()=>{s=$(l,ee,{}),s.start()}),c||Z(()=>{c=$(o,ee,{}),c.start()})},o:R,d(m){m&&h(e),Le(_,m),a=!1,xe(d)}}}function hl(r){let e=r[0].user.name+"",t,n,l,i='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',s,u;return{c(){t=re(e),n=x(),l=k("button"),l.innerHTML=i,this.h()},l(o){t=se(o,e),n=B(o),l=w(o,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1f57wop"&&(l.innerHTML=i),this.h()},h(){v(l,"type","button"),v(l,"class","ml-2")},m(o,f){E(o,t,f),E(o,n,f),E(o,l,f),s||(u=j(l,"click",r[5]),s=!0)},p(o,f){f&1&&e!==(e=o[0].user.name+"")&&ve(t,e)},i:R,o:R,d(o){o&&(h(t),h(n),h(l)),s=!1,u()}}}function pt(r){let e,t=r[9].name+"",n,l;return{c(){e=k("option"),n=re(t),this.h()},l(i){e=w(i,"OPTION",{});var s=C(e);n=se(s,t),s.forEach(h),this.h()},h(){e.__value=l=r[9].name,he(e,e.__value)},m(i,s){E(i,e,s),p(e,n)},p(i,s){s&8&&t!==(t=i[9].name+"")&&ve(n,t),s&8&&l!==(l=i[9].name)&&(e.__value=l,he(e,e.__value))},d(i){i&&h(e)}}}function vl(r){let e;function t(i,s){return i[1]?dl:hl}let n=t(r),l=n(r);return{c(){e=k("td"),l.c()},l(i){e=w(i,"TD",{});var s=C(e);l.l(s),s.forEach(h)},m(i,s){E(i,e,s),l.m(e,null)},p(i,[s]){n===(n=t(i))&&l?l.p(i,s):(l.d(1),l=n(i),l&&(l.c(),H(l,1),l.m(e,null)))},i(i){H(l)},o:R,d(i){i&&h(e),l.d()}}}function _l(r,e,t){let n,l;le(r,ne,d=>t(8,n=d)),le(r,Ut,d=>t(3,l=d));let{device:i=new Be}=e,s=!1,u=i.user.name;function o(){Vt(i.id,u).then(d=>{t(1,s=!1),pe()}).catch(d=>{ce(ne,n=d,n)})}const f=()=>{t(1,s=!0)};function c(){u=xt(this),t(2,u)}const a=()=>t(1,s=!1);return r.$$set=d=>{"device"in d&&t(0,i=d.device)},[i,s,u,l,o,f,c,a]}class pl extends be{constructor(e){super(),ke(this,e,_l,vl,ge,{device:0})}}function ml(r){let e,t,n=r[0].name+"",l,i,s,u,o,f='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',c,a,d,g="or Cancel",_,m,b,D='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',y,M,q;return{c(){e=k("span"),t=re("Deleting "),l=re(n),i=re(". Confirm"),u=x(),o=k("button"),o.innerHTML=f,a=x(),d=k("span"),d.textContent=g,m=x(),b=k("button"),b.innerHTML=D,this.h()},l(L){e=w(L,"SPAN",{class:!0});var I=C(e);t=se(I,"Deleting "),l=se(I,n),i=se(I,". Confirm"),I.forEach(h),u=B(L),o=w(L,"BUTTON",{"data-svelte-h":!0}),O(o)!=="svelte-gpbcna"&&(o.innerHTML=f),a=B(L),d=w(L,"SPAN",{class:!0,"data-svelte-h":!0}),O(d)!=="svelte-1jg25yh"&&(d.textContent=g),m=B(L),b=w(L,"BUTTON",{class:!0,"data-svelte-h":!0}),O(b)!=="svelte-s7u8ym"&&(b.innerHTML=D),this.h()},h(){v(e,"class","font-bold text-red-400"),v(d,"class","font-bold text-red-400"),v(b,"class","mr-4")},m(L,I){E(L,e,I),p(e,t),p(e,l),p(e,i),E(L,u,I),E(L,o,I),E(L,a,I),E(L,d,I),E(L,m,I),E(L,b,I),M||(q=[j(o,"click",me(r[4])),j(b,"click",me(r[5]))],M=!0)},p(L,I){I&1&&n!==(n=L[0].name+"")&&ve(l,n)},i(L){s||Z(()=>{s=$(e,ee,{}),s.start()}),c||Z(()=>{c=$(o,ee,{}),c.start()}),_||Z(()=>{_=$(d,ee,{}),_.start()}),y||Z(()=>{y=$(b,ee,{}),y.start()})},o:R,d(L){L&&(h(e),h(u),h(o),h(a),h(d),h(m),h(b)),M=!1,xe(q)}}}function gl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>',n,l;return{c(){e=k("button"),e.innerHTML=t,this.h()},l(i){e=w(i,"BUTTON",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-84a7rp"&&(e.innerHTML=t),this.h()},h(){v(e,"class","mr-4")},m(i,s){E(i,e,s),n||(l=j(e,"click",me(r[3])),n=!0)},p:R,i:R,o:R,d(i){i&&h(e),n=!1,l()}}}function bl(r){let e;function t(i,s){return i[1]?ml:gl}let n=t(r),l=n(r);return{c(){l.c(),e=fe()},l(i){l.l(i),e=fe()},m(i,s){l.m(i,s),E(i,e,s)},p(i,[s]){n===(n=t(i))&&l?l.p(i,s):(l.d(1),l=n(i),l&&(l.c(),H(l,1),l.m(e.parentNode,e)))},i(i){H(l)},o:R,d(i){i&&h(e),l.d(i)}}}function kl(r,e,t){let n;le(r,ne,c=>t(6,n=c));let{device:l=new Be}=e,i=!1;function s(){Pt(l.id).then(c=>{t(1,i=!1),pe()}).catch(c=>{ce(ne,n=c,n)})}const u=()=>t(1,i=!0),o=()=>s(),f=()=>t(1,i=!1);return r.$$set=c=>{"device"in c&&t(0,l=c.device)},[l,i,s,u,o,f]}class wl extends be{constructor(e){super(),ke(this,e,kl,bl,ge,{device:0})}}function Tl(r){let e,t,n,l,i,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',u,o,f,c='<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>',a,d,g;return{c(){e=k("form"),t=k("input"),l=x(),i=k("button"),i.innerHTML=s,o=x(),f=k("button"),f.innerHTML=c,this.h()},l(_){e=w(_,"FORM",{});var m=C(e);t=w(m,"INPUT",{class:!0,pattern:!0,placeholder:!0}),l=B(m),i=w(m,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-62kjdp"&&(i.innerHTML=s),o=B(m),f=w(m,"BUTTON",{type:!0,"data-svelte-h":!0}),O(f)!=="svelte-14j73qc"&&(f.innerHTML=c),m.forEach(h),this.h()},h(){v(t,"class","card-input mb-1 lowercase"),t.required=!0,v(t,"pattern","[a-zA-Z0-9\\-\\.]+"),v(t,"placeholder","name"),v(i,"class",""),v(f,"type","button")},m(_,m){E(_,e,m),p(e,t),he(t,r[2]),p(e,l),p(e,i),p(e,o),p(e,f),r[11](e),d||(g=[j(t,"click",me(r[7])),j(t,"input",r[9]),j(i,"click",me(r[6])),j(f,"click",me(r[10])),j(e,"submit",Ke(r[4]))],d=!0)},p(_,m){m&4&&t.value!==_[2]&&he(t,_[2])},i(_){n||Z(()=>{n=$(t,Ye,{}),n.start()}),u||Z(()=>{u=$(i,ee,{}),u.start()}),a||Z(()=>{a=$(f,ee,{}),a.start()})},o:R,d(_){_&&h(e),r[11](null),d=!1,xe(g)}}}function yl(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg>',n,l;return{c(){e=k("button"),e.innerHTML=t,this.h()},l(i){e=w(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(e)!=="svelte-khxkpa"&&(e.innerHTML=t),this.h()},h(){v(e,"type","button"),v(e,"class","ml-2")},m(i,s){E(i,e,s),n||(l=j(e,"click",me(r[8])),n=!0)},p:R,i:R,o:R,d(i){i&&h(e),n=!1,l()}}}function Dl(r){let e;function t(i,s){return i[0]?Tl:yl}let n=t(r),l=n(r);return{c(){l.c(),e=fe()},l(i){l.l(i),e=fe()},m(i,s){l.m(i,s),E(i,e,s)},p(i,[s]){n===(n=t(i))&&l?l.p(i,s):(l.d(1),l=n(i),l&&(l.c(),H(l,1),l.m(e.parentNode,e)))},i(i){H(l)},o:R,d(i){i&&h(e),l.d(i)}}}function Cl(r,e,t){let n;le(r,ne,b=>t(12,n=b));let l,i="",{cardEditing:s=!1}=e,{device:u=new Be}=e;function o(){t(0,s=!0),t(2,i=u.givenName)}function f(){l.reportValidity()?Rt(u.id,i.toLowerCase()).then(b=>{t(0,s=!1),pe()}).catch(b=>{ce(ne,n=b,n)}):ce(ne,n="Use lower case letters, periods, or dashes only",n)}function c(b){Re.call(this,r,b)}function a(b){Re.call(this,r,b)}const d=()=>o();function g(){i=this.value,t(2,i)}const _=()=>t(0,s=!1);function m(b){Oe[b?"unshift":"push"](()=>{l=b,t(1,l)})}return r.$$set=b=>{"cardEditing"in b&&t(0,s=b.cardEditing),"device"in b&&t(5,u=b.device)},[s,l,i,o,f,u,c,a,d,g,_,m]}class El extends be{constructor(e){super(),ke(this,e,Cl,Dl,ge,{cardEditing:0,device:5})}}function mt(r,e,t){const n=r.slice();return n[6]=e[t],n}function gt(r){let e,t,n,l,i=r[0].id+"",s,u,o=r[0].givenName+"",f;return{c(){e=k("span"),l=x(),s=re(i),u=re(": "),f=re(o),this.h()},l(c){e=w(c,"SPAN",{class:!0,"data-tip":!0}),C(e).forEach(h),l=B(c),s=se(c,i),u=se(c,": "),f=se(c,o),this.h()},h(){v(e,"class",t="badge badge-xs tooltip "+wt(new Date(r[0].lastSeen))),v(e,"data-tip",n=Tt(new Date(r[0].lastSeen)))},m(c,a){E(c,e,a),E(c,l,a),E(c,s,a),E(c,u,a),E(c,f,a)},p(c,a){a&1&&t!==(t="badge badge-xs tooltip "+wt(new Date(c[0].lastSeen)))&&v(e,"class",t),a&1&&n!==(n=Tt(new Date(c[0].lastSeen)))&&v(e,"data-tip",n),a&1&&i!==(i=c[0].id+"")&&ve(s,i),a&1&&o!==(o=c[0].givenName+"")&&ve(f,o)},d(c){c&&(h(e),h(l),h(s),h(u),h(f))}}}function Ml(r){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),this.h()},l(n){e=Me(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=C(e);t=Me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(h),l.forEach(h),this.h()},h(){v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"d","M5 15l7-7 7 7"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"class","h-6 w-6 inline flex-shrink-0"),v(e,"fill","none"),v(e,"viewBox","0 0 24 24"),v(e,"stroke","currentColor"),v(e,"stroke-width","2")},m(n,l){E(n,e,l),p(e,t)},d(n){n&&h(e)}}}function Sl(r){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),this.h()},l(n){e=Me(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=C(e);t=Me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(h),l.forEach(h),this.h()},h(){v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"d","M19 9l-7 7-7-7"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"class","h-6 w-6 inline flex-shrink-0"),v(e,"fill","none"),v(e,"viewBox","0 0 24 24"),v(e,"stroke","currentColor"),v(e,"stroke-width","2")},m(n,l){E(n,e,l),p(e,t)},d(n){n&&h(e)}}}function bt(r){let e,t,n,l,i,s,u="Device Last Seen",o,f,c=new Date(r[0].lastSeen)+"",a,d,g,_,m="IP Addresses",b,D,y,M,q,L,I="Assigned User",F,S,U,T,N,A="Device Name",V,W,te=r[0].name+"",de,ue,J,P,Q,z,oe,_e=ie(r[0].ipAddresses),X=[];for(let K=0;K<_e.length;K+=1)X[K]=kt(mt(r,_e,K));return S=new pl({props:{device:r[0]}}),P=new nl({props:{device:r[0]}}),{c(){e=k("div"),t=k("div"),n=k("table"),l=k("tbody"),i=k("tr"),s=k("th"),s.textContent=u,o=x(),f=k("td"),a=re(c),d=x(),g=k("tr"),_=k("th"),_.textContent=m,b=x(),D=k("td"),y=k("ul");for(let K=0;K<X.length;K+=1)X[K].c();M=x(),q=k("tr"),L=k("th"),L.textContent=I,F=x(),Te(S.$$.fragment),U=x(),T=k("tr"),N=k("th"),N.textContent=A,V=x(),W=k("td"),de=re(te),ue=x(),J=k("tr"),Te(P.$$.fragment),this.h()},l(K){e=w(K,"DIV",{class:!0});var ae=C(e);t=w(ae,"DIV",{class:!0});var we=C(t);n=w(we,"TABLE",{class:!0});var Ue=C(n);l=w(Ue,"TBODY",{});var G=C(l);i=w(G,"TR",{});var Ne=C(i);s=w(Ne,"TH",{"data-svelte-h":!0}),O(s)!=="svelte-13kw2s7"&&(s.textContent=u),o=B(Ne),f=w(Ne,"TD",{});var Ze=C(f);a=se(Ze,c),Ze.forEach(h),Ne.forEach(h),d=B(G),g=w(G,"TR",{});var Ae=C(g);_=w(Ae,"TH",{"data-svelte-h":!0}),O(_)!=="svelte-1forfjj"&&(_.textContent=m),b=B(Ae),D=w(Ae,"TD",{});var Qe=C(D);y=w(Qe,"UL",{class:!0});var Xe=C(y);for(let qe=0;qe<X.length;qe+=1)X[qe].l(Xe);Xe.forEach(h),Qe.forEach(h),Ae.forEach(h),M=B(G),q=w(G,"TR",{});var je=C(q);L=w(je,"TH",{"data-svelte-h":!0}),O(L)!=="svelte-1c75l1v"&&(L.textContent=I),F=B(je),ye(S.$$.fragment,je),je.forEach(h),U=B(G),T=w(G,"TR",{});var Ve=C(T);N=w(Ve,"TH",{"data-svelte-h":!0}),O(N)!=="svelte-b5c97l"&&(N.textContent=A),V=B(Ve),W=w(Ve,"TD",{});var $e=C(W);de=se($e,te),$e.forEach(h),Ve.forEach(h),ue=B(G),J=w(G,"TR",{});var et=C(J);ye(P.$$.fragment,et),et.forEach(h),G.forEach(h),Ue.forEach(h),we.forEach(h),ae.forEach(h),this.h()},h(){v(y,"class","list-disc list-inside"),v(n,"class","table table-compact w-full"),v(t,"class","overflow-x-auto"),v(e,"class","pt-2 pl-2")},m(K,ae){E(K,e,ae),p(e,t),p(t,n),p(n,l),p(l,i),p(i,s),p(i,o),p(i,f),p(f,a),p(l,d),p(l,g),p(g,_),p(g,b),p(g,D),p(D,y);for(let we=0;we<X.length;we+=1)X[we]&&X[we].m(y,null);p(l,M),p(l,q),p(q,L),p(q,F),De(S,q,null),p(l,U),p(l,T),p(T,N),p(T,V),p(T,W),p(W,de),p(l,ue),p(l,J),De(P,J,null),oe=!0},p(K,ae){if(r=K,(!oe||ae&1)&&c!==(c=new Date(r[0].lastSeen)+"")&&ve(a,c),ae&1){_e=ie(r[0].ipAddresses);let G;for(G=0;G<_e.length;G+=1){const Ne=mt(r,_e,G);X[G]?X[G].p(Ne,ae):(X[G]=kt(Ne),X[G].c(),X[G].m(y,null))}for(;G<X.length;G+=1)X[G].d(1);X.length=_e.length}const we={};ae&1&&(we.device=r[0]),S.$set(we),(!oe||ae&1)&&te!==(te=r[0].name+"")&&ve(de,te);const Ue={};ae&1&&(Ue.device=r[0]),P.$set(Ue)},i(K){oe||(H(S.$$.fragment,K),H(P.$$.fragment,K),Z(()=>{oe&&(z&&z.end(1),Q=$(e,Ye,{}),Q.start())}),oe=!0)},o(K){Y(S.$$.fragment,K),Y(P.$$.fragment,K),Q&&Q.invalidate(),z=Nt(e,Ye,{duration:r[1]?0:500}),oe=!1},d(K){K&&h(e),Le(X,K),Ce(S),Ce(P),K&&z&&z.end()}}}function kt(r){let e,t=r[6]+"",n;return{c(){e=k("li"),n=re(t)},l(l){e=w(l,"LI",{});var i=C(e);n=se(i,t),i.forEach(h)},m(l,i){E(l,e,i),p(e,n)},p(l,i){i&1&&t!==(t=l[6]+"")&&ve(n,t)},d(l){l&&h(e)}}}function Ll(r){let e,t,n,l,i,s,u,o,f,c,a,d,g,_,m,b,D,y,M=r[2]==!1&&gt(r);function q(T){r[4](T)}let L={device:r[0]};r[2]!==void 0&&(L.cardEditing=r[2]),i=new El({props:L}),Oe.push(()=>We(i,"cardEditing",q)),f=new fl({props:{device:r[0]}}),d=new wl({props:{device:r[0]}});function I(T,N){return T[1]?Ml:Sl}let F=I(r),S=F(r),U=r[1]&&bt(r);return{c(){e=k("div"),t=k("div"),n=k("span"),M&&M.c(),l=x(),Te(i.$$.fragment),u=x(),o=k("div"),Te(f.$$.fragment),c=x(),a=k("div"),Te(d.$$.fragment),g=x(),_=k("button"),S.c(),m=x(),U&&U.c(),this.h()},l(T){e=w(T,"DIV",{class:!0});var N=C(e);t=w(N,"DIV",{class:!0});var A=C(t);n=w(A,"SPAN",{class:!0});var V=C(n);M&&M.l(V),l=B(V),ye(i.$$.fragment,V),V.forEach(h),u=B(A),o=w(A,"DIV",{class:!0});var W=C(o);ye(f.$$.fragment,W),W.forEach(h),c=B(A),a=w(A,"DIV",{class:!0});var te=C(a);ye(d.$$.fragment,te),g=B(te),_=w(te,"BUTTON",{type:!0});var de=C(_);S.l(de),de.forEach(h),te.forEach(h),A.forEach(h),m=B(N),U&&U.l(N),N.forEach(h),this.h()},h(){v(n,"class","min-w-64 w-1/2 font-bold"),v(o,"class","grow w-full"),v(_,"type","button"),v(a,"class","grow min-w-fit"),v(t,"class","flex"),v(e,"class","card-primary")},m(T,N){E(T,e,N),p(e,t),p(t,n),M&&M.m(n,null),p(n,l),De(i,n,null),p(t,u),p(t,o),De(f,o,null),p(t,c),p(t,a),De(d,a,null),p(a,g),p(a,_),S.m(_,null),p(e,m),U&&U.m(e,null),b=!0,D||(y=[j(t,"keypress",r[3]),j(t,"click",r[5])],D=!0)},p(T,[N]){T[2]==!1?M?M.p(T,N):(M=gt(T),M.c(),M.m(n,l)):M&&(M.d(1),M=null);const A={};N&1&&(A.device=T[0]),!s&&N&4&&(s=!0,A.cardEditing=T[2],Ge(()=>s=!1)),i.$set(A);const V={};N&1&&(V.device=T[0]),f.$set(V);const W={};N&1&&(W.device=T[0]),d.$set(W),F!==(F=I(T))&&(S.d(1),S=F(T),S&&(S.c(),S.m(_,null))),T[1]?U?(U.p(T,N),N&2&&H(U,1)):(U=bt(T),U.c(),H(U,1),U.m(e,null)):U&&(He(),Y(U,1,1,()=>{U=null}),Ie())},i(T){b||(H(i.$$.fragment,T),H(f.$$.fragment,T),H(d.$$.fragment,T),H(U),b=!0)},o(T){Y(i.$$.fragment,T),Y(f.$$.fragment,T),Y(d.$$.fragment,T),Y(U),b=!1},d(T){T&&h(e),M&&M.d(),Ce(i),Ce(f),Ce(d),S.d(),U&&U.d(),D=!1,xe(y)}}}function wt(r){let t=Math.round((new Date().getTime()-r.getTime())/1e3);if(t<3600)return"bg-success";if(t<86400)return"bg-warning"}function Tt(r){let t=Math.round((new Date().getTime()-r.getTime())/1e3),n="";return t<60?n="seconds":t<3600?(t=Math.floor(t/60),t==1?n="minute":n="minutes"):t<86400?(t=Math.floor(t/(60*60)),t==1?n="hour":n="hours"):(t=Math.floor(t/(60*60*24)),t==1?n="day":n="days"),`Last seen ${t} ${n} ago`}function Nl(r,e,t){let{device:n=new Be}=e,l=!1,i=!1;function s(f){Re.call(this,r,f)}function u(f){i=f,t(2,i)}const o=()=>t(1,l=!l);return r.$$set=f=>{"device"in f&&t(0,n=f.device)},[n,l,i,s,u,o]}class xl extends be{constructor(e){super(),ke(this,e,Nl,Ll,ge,{device:0})}}function Bl(r){let e,t,n,l,i,s,u;return{c(){e=k("div"),t=Ee("svg"),n=Ee("path"),l=x(),i=k("input"),this.h()},l(o){e=w(o,"DIV",{class:!0});var f=C(e);t=Me(f,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var c=C(t);n=Me(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(n).forEach(h),c.forEach(h),l=B(f),i=w(f,"INPUT",{type:!0,placeholder:!0,class:!0}),f.forEach(h),this.h()},h(){v(n,"stroke-linecap","round"),v(n,"stroke-linejoin","round"),v(n,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),v(t,"xmlns","http://www.w3.org/2000/svg"),v(t,"class","h-5 w-5 ml-3 mr-1 inline flex-shrink-0"),v(t,"fill","none"),v(t,"viewBox","0 0 24 24"),v(t,"stroke","currentColor"),v(t,"stroke-width","2"),v(i,"type","text"),v(i,"placeholder","search"),v(i,"class","input input-bordered input-xs w-full max-w-xs"),v(e,"class","flex")},m(o,f){E(o,e,f),p(e,t),p(t,n),p(e,l),p(e,i),he(i,r[0]),s||(u=j(i,"input",r[2]),s=!0)},p(o,[f]){f&1&&i.value!==o[0]&&he(i,o[0])},i:R,o:R,d(o){o&&h(e),s=!1,u()}}}function Hl(r,e,t){let n;le(r,Fe,s=>t(0,n=s));let{overrideSort:l=!1}=e;Fe.subscribe(s=>{s!=""?t(1,l=!0):t(1,l=!1),zt()});function i(){n=this.value,Fe.set(n)}return r.$$set=s=>{"overrideSort"in s&&t(1,l=s.overrideSort)},[n,l,i]}class Il extends be{constructor(e){super(),ke(this,e,Hl,Bl,ge,{overrideSort:1})}}function Ul(r){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),this.h()},l(n){e=Me(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=C(e);t=Me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(h),l.forEach(h),this.h()},h(){v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"d","M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"class","h-6 w-6"),v(e,"fill","none"),v(e,"viewBox","0 0 24 24"),v(e,"stroke","currentColor"),v(e,"stroke-width","2")},m(n,l){E(n,e,l),p(e,t)},d(n){n&&h(e)}}}function Ol(r){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),this.h()},l(n){e=Me(n,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=C(e);t=Me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),C(t).forEach(h),l.forEach(h),this.h()},h(){v(t,"stroke-linecap","round"),v(t,"stroke-linejoin","round"),v(t,"d","M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"class","h-6 w-6"),v(e,"fill","none"),v(e,"viewBox","0 0 24 24"),v(e,"stroke","currentColor"),v(e,"stroke-width","2")},m(n,l){E(n,e,l),p(e,t)},d(n){n&&h(e)}}}function Al(r){let e,t,n,l,i,s="ID",u,o,f="Device Name",c,a,d="Last Seen",g,_;function m(y,M){return y[0]=="ascending"?Ol:Ul}let b=m(r),D=b(r);return{c(){e=k("span"),t=k("button"),D.c(),n=x(),l=k("span"),i=k("button"),i.textContent=s,u=x(),o=k("button"),o.textContent=f,c=x(),a=k("button"),a.textContent=d,this.h()},l(y){e=w(y,"SPAN",{class:!0});var M=C(e);t=w(M,"BUTTON",{class:!0});var q=C(t);D.l(q),q.forEach(h),n=B(M),l=w(M,"SPAN",{class:!0});var L=C(l);i=w(L,"BUTTON",{class:!0,"data-svelte-h":!0}),O(i)!=="svelte-1vb32l8"&&(i.textContent=s),u=B(L),o=w(L,"BUTTON",{class:!0,"data-svelte-h":!0}),O(o)!=="svelte-1hpoaik"&&(o.textContent=f),c=B(L),a=w(L,"BUTTON",{class:!0,"data-svelte-h":!0}),O(a)!=="svelte-oo5r4o"&&(a.textContent=d),L.forEach(h),M.forEach(h),this.h()},h(){v(t,"class","mx-1"),v(i,"class","btn btn-xs"),Se(i,"btn-active",r[1]=="id"),v(o,"class","btn btn-xs capitalize"),Se(o,"btn-active",r[1]=="givenName"),v(a,"class","btn btn-xs capitalize"),Se(a,"btn-active",r[1]=="lastSeen"),v(l,"class","btn-group"),v(e,"class","flex")},m(y,M){E(y,e,M),p(e,t),D.m(t,null),p(e,n),p(e,l),p(l,i),p(l,u),p(l,o),p(l,c),p(l,a),g||(_=[j(t,"keypress",r[3]),j(t,"click",r[4]),j(i,"click",r[5]),j(o,"click",r[6]),j(a,"click",r[7])],g=!0)},p(y,[M]){b!==(b=m(y))&&(D.d(1),D=b(y),D&&(D.c(),D.m(t,null))),M&2&&Se(i,"btn-active",y[1]=="id"),M&2&&Se(o,"btn-active",y[1]=="givenName"),M&2&&Se(a,"btn-active",y[1]=="lastSeen")},i:R,o:R,d(y){y&&h(e),D.d(),g=!1,xe(_)}}}function jl(r,e,t){let n,l;le(r,Je,a=>t(0,n=a)),le(r,Pe,a=>t(1,l=a));function i(){n=="ascending"?ce(Je,n="descending",n):ce(Je,n="ascending",n),pe()}function s(a){Re.call(this,r,a)}return[n,l,i,s,()=>{i()},()=>{ce(Pe,l="id",l),pe()},()=>{ce(Pe,l="givenName",l),pe()},()=>{ce(Pe,l="lastSeen",l),pe()}]}class Vl extends be{constructor(e){super(),ke(this,e,jl,Al,ge,{})}}function yt(r,e,t){const n=r.slice();return n[12]=e[t],n}function Dt(r){let e,t,n='<h1 class="text-2xl bold text-primary">Device View</h1>',l,i,s,u,o,f=r[3]==="succeeded"&&Ct(r),c=r[3]==="failed"&&St();return{c(){e=k("div"),t=k("div"),t.innerHTML=n,i=x(),f&&f.c(),s=x(),c&&c.c(),this.h()},l(a){e=w(a,"DIV",{});var d=C(e);t=w(d,"DIV",{class:!0,"data-svelte-h":!0}),O(t)!=="svelte-1hgd3vk"&&(t.innerHTML=n),i=B(d),f&&f.l(d),s=B(d),c&&c.l(d),d.forEach(h),this.h()},h(){v(t,"class","px-4 pt-4")},m(a,d){E(a,e,d),p(e,t),p(e,i),f&&f.m(e,null),p(e,s),c&&c.m(e,null),o=!0},p(a,d){a[3]==="succeeded"?f?(f.p(a,d),d&8&&H(f,1)):(f=Ct(a),f.c(),H(f,1),f.m(e,s)):f&&(He(),Y(f,1,1,()=>{f=null}),Ie()),a[3]==="failed"?c?d&8&&H(c,1):(c=St(),c.c(),H(c,1),c.m(e,null)):c&&(c.d(1),c=null)},i(a){o||(l||Z(()=>{l=$(t,ee,{}),l.start()}),H(f),H(c),u||Z(()=>{u=$(e,ee,{}),u.start()}),o=!0)},o(a){Y(f),o=!1},d(a){a&&h(e),f&&f.d(),c&&c.d()}}}function Ct(r){let e,t,n,l,i,s,u,o,f,c,a,d,g,_,m,b;function D(T,N){return T[1]==!1?Rl:Pl}let y=D(r),M=y(r);u=new Vl({}),f=new Il({});function q(T){r[8](T)}function L(T){r[9](T)}let I={};r[1]!==void 0&&(I.newDeviceCardVisible=r[1]),r[0]!==void 0&&(I.newDeviceKey=r[0]),a=new Zt({props:I}),Oe.push(()=>We(a,"newDeviceCardVisible",q)),Oe.push(()=>We(a,"newDeviceKey",L));let F=ie(r[4]),S=[];for(let T=0;T<F.length;T+=1)S[T]=Mt(yt(r,F,T));const U=T=>Y(S[T],1,1,()=>{S[T]=null});return{c(){e=k("table"),t=k("tr"),n=k("td"),l=k("div"),M.c(),i=x(),s=k("td"),Te(u.$$.fragment),o=k("td"),Te(f.$$.fragment),c=x(),Te(a.$$.fragment),_=x();for(let T=0;T<S.length;T+=1)S[T].c();m=fe(),this.h()},l(T){e=w(T,"TABLE",{});var N=C(e);t=w(N,"TR",{});var A=C(t);n=w(A,"TD",{});var V=C(n);l=w(V,"DIV",{class:!0});var W=C(l);M.l(W),i=B(W),W.forEach(h),V.forEach(h),s=w(A,"TD",{});var te=C(s);ye(u.$$.fragment,te),te.forEach(h),o=w(A,"TD",{});var de=C(o);ye(f.$$.fragment,de),de.forEach(h),A.forEach(h),N.forEach(h),c=B(T),ye(a.$$.fragment,T),_=B(T);for(let ue=0;ue<S.length;ue+=1)S[ue].l(T);m=fe(),this.h()},h(){v(l,"class","p-4")},m(T,N){E(T,e,N),p(e,t),p(t,n),p(n,l),M.m(l,null),p(l,i),p(t,s),De(u,s,null),p(t,o),De(f,o,null),E(T,c,N),De(a,T,N),E(T,_,N);for(let A=0;A<S.length;A+=1)S[A]&&S[A].m(T,N);E(T,m,N),b=!0},p(T,N){y===(y=D(T))&&M?M.p(T,N):(M.d(1),M=y(T),M&&(M.c(),M.m(l,i)));const A={};if(!d&&N&2&&(d=!0,A.newDeviceCardVisible=T[1],Ge(()=>d=!1)),!g&&N&1&&(g=!0,A.newDeviceKey=T[0],Ge(()=>g=!1)),a.$set(A),N&48){F=ie(T[4]);let V;for(V=0;V<F.length;V+=1){const W=yt(T,F,V);S[V]?(S[V].p(W,N),H(S[V],1)):(S[V]=Mt(W),S[V].c(),H(S[V],1),S[V].m(m.parentNode,m))}for(He(),V=F.length;V<S.length;V+=1)U(V);Ie()}},i(T){if(!b){H(u.$$.fragment,T),H(f.$$.fragment,T),H(a.$$.fragment,T);for(let N=0;N<F.length;N+=1)H(S[N]);b=!0}},o(T){Y(u.$$.fragment,T),Y(f.$$.fragment,T),Y(a.$$.fragment,T),S=S.filter(Boolean);for(let N=0;N<S.length;N+=1)Y(S[N]);b=!1},d(T){T&&(h(e),h(c),h(_),h(m)),M.d(),Ce(u),Ce(f),Ce(a,T),Le(S,T)}}}function Pl(r){let e,t="- Hide New Device",n,l;return{c(){e=k("button"),e.textContent=t,this.h()},l(i){e=w(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),O(e)!=="svelte-1ty81fl"&&(e.textContent=t),this.h()},h(){v(e,"class","btn btn-secondary btn-xs capitalize"),v(e,"type","button")},m(i,s){E(i,e,s),n||(l=j(e,"click",r[7]),n=!0)},p:R,d(i){i&&h(e),n=!1,l()}}}function Rl(r){let e,t="+ New Device",n,l;return{c(){e=k("button"),e.textContent=t,this.h()},l(i){e=w(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),O(e)!=="svelte-w2fa7u"&&(e.textContent=t),this.h()},h(){v(e,"class","btn btn-primary btn-xs capitalize"),v(e,"type","button")},m(i,s){E(i,e,s),n||(l=j(e,"click",r[6]),n=!0)},p:R,d(i){i&&h(e),n=!1,l()}}}function Et(r){let e,t;return e=new xl({props:{device:r[12]}}),{c(){Te(e.$$.fragment)},l(n){ye(e.$$.fragment,n)},m(n,l){De(e,n,l),t=!0},p(n,l){const i={};l&16&&(i.device=n[12]),e.$set(i)},i(n){t||(H(e.$$.fragment,n),t=!0)},o(n){Y(e.$$.fragment,n),t=!1},d(n){Ce(e,n)}}}function Mt(r){let e=r[5].includes(r[12]),t,n,l=e&&Et(r);return{c(){l&&l.c(),t=fe()},l(i){l&&l.l(i),t=fe()},m(i,s){l&&l.m(i,s),E(i,t,s),n=!0},p(i,s){s&48&&(e=i[5].includes(i[12])),e?l?(l.p(i,s),s&48&&H(l,1)):(l=Et(i),l.c(),H(l,1),l.m(t.parentNode,t)):l&&(He(),Y(l,1,1,()=>{l=null}),Ie())},i(i){n||(H(l),n=!0)},o(i){Y(l),n=!1},d(i){i&&h(t),l&&l.d(i)}}}function St(r){let e,t=`<p>API test did not succeed.<br/>Headscale might be down or API settings may need to be set<br/>change server settings in the <a href="${Ht}/settings.html" class="link link-primary">settings</a> page</p>`,n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(l){e=w(l,"DIV",{class:!0,"data-svelte-h":!0}),O(e)!=="svelte-1egukac"&&(e.innerHTML=t),this.h()},h(){v(e,"class","max-w-lg mx-auto p-4 border-4 text-sm text-base-content shadow-lg text-center")},m(l,i){E(l,e,i)},i(l){n||Z(()=>{n=$(e,ee,{}),n.start()})},o:R,d(l){l&&h(e)}}}function zl(r){let e,t,n=r[2]&&Dt(r);return{c(){n&&n.c(),e=fe()},l(l){n&&n.l(l),e=fe()},m(l,i){n&&n.m(l,i),E(l,e,i),t=!0},p(l,[i]){l[2]?n?(n.p(l,i),i&4&&H(n,1)):(n=Dt(l),n.c(),H(n,1),n.m(e.parentNode,e)):n&&(He(),Y(n,1,1,()=>{n=null}),Ie())},i(l){t||(H(n),t=!0)},o(l){Y(n),t=!1},d(l){l&&h(e),n&&n.d(l)}}}function Kl(r,e,t){let n,l,i,s;le(r,It,m=>t(10,n=m)),le(r,qt,m=>t(3,l=m)),le(r,Ft,m=>t(4,i=m)),le(r,Jt,m=>t(5,s=m));var u=this&&this.__awaiter||function(m,b,D,y){function M(q){return q instanceof D?q:new D(function(L){L(q)})}return new(D||(D=Promise))(function(q,L){function I(U){try{S(y.next(U))}catch(T){L(T)}}function F(U){try{S(y.throw(U))}catch(T){L(T)}}function S(U){U.done?q(U.value):M(U.value).then(I,F)}S((y=y.apply(m,b||[])).next())})};let o="",f=!1,c=!1;Lt(()=>u(void 0,void 0,void 0,function*(){var m;t(0,o=(m=n.url.searchParams.get("nodekey"))!==null&&m!==void 0?m:""),t(1,f=o.length>0),Kt(),pe(),t(2,c=!0)}));const a=()=>t(1,f=!0),d=()=>t(1,f=!1);function g(m){f=m,t(1,f)}function _(m){o=m,t(0,o)}return[o,f,c,l,i,s,a,d,g,_]}class Ql extends be{constructor(e){super(),ke(this,e,Kl,zl,ge,{})}}export{Ql as component};
