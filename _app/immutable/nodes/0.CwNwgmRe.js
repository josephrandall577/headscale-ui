import{s as q,c as Z,o as ee,a as pe,n as ge,f as we,h as H,j as be,r as Se,k as ke,l as xe,u as Ie,m as $e,p as Me}from"../chunks/scheduler.CxMg9YiE.js";import{S as K,i as R,o as B,g as j,k as y,u as ve,p as E,q as _e,d as k,e as I,s as C,c as $,a as L,l as V,f as D,m as b,A as P,h as g,B as Q,C as O,t as Ae,b as ye,j as Le,w as G,x as W,y as F,z as J}from"../chunks/index.DDwUPhoj.js";import{s as X,f as te,i as N,j as se,t as Y,k as ae,l as ne,m as le,n as re,o as oe,p as ie,A as ce,q as ue}from"../chunks/stores.B5fiO9R7.js";import{w as fe}from"../chunks/index.DFG3iCGw.js";import{b as U}from"../chunks/paths.C-PAN-v-.js";const Ce=!0,Ge=Object.freeze(Object.defineProperty({__proto__:null,prerender:Ce},Symbol.toStringTag,{value:"Module"}));function de(r){let e,a,t,s='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path></svg> <span class="indent-4 text-primary font-extrabold">Headscale</span>',n,f,m,l,w='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg> <span class="indent-4">User View</span>',S,i,v,u='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg> <span class="indent-4">Device View</span>',o,d,_='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> <span class="indent-4">Settings</span>',h,x,T,A,c=r[3]&&he();return{c(){e=I("nav"),a=I("div"),t=I("button"),t.innerHTML=s,n=C(),f=I("div"),m=C(),l=I("a"),l.innerHTML=w,S=C(),c&&c.c(),i=C(),v=I("a"),v.innerHTML=u,o=C(),d=I("a"),d.innerHTML=_,this.h()},l(p){e=$(p,"NAV",{class:!0});var z=L(e);a=$(z,"DIV",{class:!0});var M=L(a);t=$(M,"BUTTON",{class:!0,"data-svelte-h":!0}),V(t)!=="svelte-oqq9ku"&&(t.innerHTML=s),n=D(M),f=$(M,"DIV",{}),L(f).forEach(k),m=D(M),l=$(M,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(l)!=="svelte-14ng91t"&&(l.innerHTML=w),S=D(M),c&&c.l(M),i=D(M),v=$(M,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(v)!=="svelte-4terls"&&(v.innerHTML=u),o=D(M),d=$(M,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(d)!=="svelte-1bypwkk"&&(d.innerHTML=_),M.forEach(k),z.forEach(k),this.h()},h(){b(t,"class","w-full nav-item svelte-31ic4z"),b(l,"href",U+"/users.html"),b(l,"class","nav-item svelte-31ic4z"),b(v,"href",U+"/devices.html"),b(v,"class","nav-item svelte-31ic4z"),b(d,"href",U+"/settings.html"),b(d,"class","nav-item svelte-31ic4z"),b(a,"class","absolute top-0 w-full"),b(e,"class","bg-base-200 flex shadow-xl w-14 h-screen sticky top-0 svelte-31ic4z"),P(e,"navCollapsed",r[2]=="collapsed"),P(e,"navExpanded",r[2]=="expanded")},m(p,z){j(p,e,z),g(e,a),g(a,t),g(a,n),g(a,f),g(a,m),g(a,l),g(a,S),c&&c.m(a,null),g(a,i),g(a,v),g(a,o),g(a,d),x=!0,T||(A=Q(t,"click",r[4]),T=!0)},p(p,z){p[3]?c||(c=he(),c.c(),c.m(a,i)):c&&(c.d(1),c=null),(!x||z&4)&&P(e,"navCollapsed",p[2]=="collapsed"),(!x||z&4)&&P(e,"navExpanded",p[2]=="expanded")},i(p){x||(pe(()=>{x&&(h||(h=O(e,te,{},!0)),h.run(1))}),x=!0)},o(p){h||(h=O(e,te,{},!1)),h.run(0),x=!1},d(p){p&&k(e),c&&c.d(),p&&h&&h.end(),T=!1,A()}}}function he(r){let e,a='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"></path></svg> <span class="indent-4">Group View</span>';return{c(){e=I("a"),e.innerHTML=a,this.h()},l(t){e=$(t,"A",{href:!0,class:!0,"data-svelte-h":!0}),V(e)!=="svelte-h8r3d7"&&(e.innerHTML=a),this.h()},h(){b(e,"href",U+"/groups.html"),b(e,"class","nav-item svelte-31ic4z")},m(t,s){j(t,e,s)},d(t){t&&k(e)}}}function De(r){let e,a,t=r[1]&&de(r);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,n){t&&t.m(s,n),j(s,e,n),a=!0},p(s,[n]){s[1]?t?(t.p(s,n),n&2&&y(t,1)):(t=de(s),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(ve(),E(t,1,1,()=>{t=null}),_e())},i(s){a||(y(t),a=!0)},o(s){E(t),a=!1},d(s){s&&k(e),t&&t.d(s)}}}function Ee(r,e,a){let t,s=ge,n=()=>(s(),s=we(l,i=>a(2,t=i)),l),f;Z(r,X,i=>a(3,f=i)),r.$$.on_destroy.push(()=>s());var m=this&&this.__awaiter||function(i,v,u,o){function d(_){return _ instanceof u?_:new u(function(h){h(_)})}return new(u||(u=Promise))(function(_,h){function x(c){try{A(o.next(c))}catch(p){h(p)}}function T(c){try{A(o.throw(c))}catch(p){h(p)}}function A(c){c.done?_(c.value):d(c.value).then(x,T)}A((o=o.apply(i,v||[])).next())})};let l=fe("");n();let w=!1;return ee(()=>m(void 0,void 0,void 0,function*(){n(a(0,l=fe(localStorage.getItem("navExpanded")||""))),l.subscribe(i=>localStorage.setItem("navExpanded",i)),t==""&&(window.outerWidth>=640?H(l,t="expanded",t):H(l,t="collapsed",t)),a(1,w=!0)})),[l,w,t,f,()=>t=="collapsed"?H(l,t="expanded",t):H(l,t="collapsed",t)]}class Te extends K{constructor(e){super(),R(this,e,Ee,De,q,{})}}function me(r){let e,a,t,s,n,f,m;return{c(){e=I("div"),a=I("p"),t=Ae(r[0]),this.h()},l(l){e=$(l,"DIV",{class:!0});var w=L(e);a=$(w,"P",{});var S=L(a);t=ye(S,r[0]),S.forEach(k),w.forEach(k),this.h()},h(){b(e,"class","absolute alert text-lg left-1/2 transform -translate-x-1/2 justify-center shadow-lg max-w-lg")},m(l,w){j(l,e,w),g(e,a),g(a,t),n=!0,f||(m=[Q(e,"keypress",r[3]),Q(e,"click",r[4])],f=!0)},p(l,w){(!n||w&1)&&Le(t,l[0])},i(l){n||(pe(()=>{n&&(s||(s=O(e,se,{},!0)),s.run(1))}),n=!0)},o(l){s||(s=O(e,se,{},!1)),s.run(0),n=!1},d(l){l&&k(e),l&&s&&s.end(),f=!1,Se(m)}}}function ze(r){let e,a,t=r[1]&&me(r);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,n){t&&t.m(s,n),j(s,e,n),a=!0},p(s,[n]){s[1]?t?(t.p(s,n),n&2&&y(t,1)):(t=me(s),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(ve(),E(t,1,1,()=>{t=null}),_e())},i(s){a||(y(t),a=!0)},o(s){E(t),a=!1},d(s){s&&k(e),t&&t.d(s)}}}function He(r,e,a){let t;Z(r,N,i=>a(0,t=i));var s=this&&this.__awaiter||function(i,v,u,o){function d(_){return _ instanceof u?_:new u(function(h){h(_)})}return new(u||(u=Promise))(function(_,h){function x(c){try{A(o.next(c))}catch(p){h(p)}}function T(c){try{A(o.throw(c))}catch(p){h(p)}}function A(c){c.done?_(c.value):d(c.value).then(x,T)}A((o=o.apply(i,v||[])).next())})};let{ms:n=3e3}=e,f=!1,m;ee(()=>s(void 0,void 0,void 0,function*(){window.addEventListener("unhandledrejection",function(i){H(N,t=i.reason,t)})}));const l=(i,v)=>{clearTimeout(m),i?(a(1,f=!0),v>0&&(m=window.setTimeout(()=>{H(N,t="",t)},v))):a(1,f=!1)};be(()=>clearTimeout(m));function w(i){ke.call(this,r,i)}const S=()=>{H(N,t="",t)};return r.$$set=i=>{"ms"in i&&a(2,n=i.ms)},r.$$.update=()=>{r.$$.dirty&5&&l(t,n)},[t,f,n,w,S]}class je extends K{constructor(e){super(),R(this,e,He,ze,q,{ms:2})}}function Ve(r){return ee(async()=>{Y.set(localStorage.getItem("headscaleTheme")||"hsui"),Y.subscribe(e=>localStorage.setItem("headscaleTheme",e)),ae.set(localStorage.getItem("headscaleDeviceSort")||"id"),ae.subscribe(e=>localStorage.setItem("headscaleDeviceSort",e)),ne.set(localStorage.getItem("headscaleDeviceSortDirection")||"ascending"),ne.subscribe(e=>localStorage.setItem("headscaleDeviceSortDirection",e)),le.set(localStorage.getItem("headscaleUserSort")||"id"),le.subscribe(e=>localStorage.setItem("headscaleUserSort",e)),re.set(localStorage.getItem("headscaleUserSortDirection")||"ascending"),re.subscribe(e=>localStorage.setItem("headscaleUserSortDirection",e)),oe.set(localStorage.getItem("headscaleURL")||""),oe.subscribe(e=>localStorage.setItem("headscaleURL",e.replace(/\/+$/,""))),ie.set(localStorage.getItem("headscaleAPIKey")||""),ie.subscribe(e=>localStorage.setItem("headscaleAPIKey",e)),ce.set(localStorage.getItem("headscaleAPIMachineOrNode")||"machine"),ce.subscribe(e=>localStorage.setItem("headscaleAPIMachineOrNode",e)),ue.set((localStorage.getItem("headscalePreAuthHide")||"false")=="true"),ue.subscribe(e=>localStorage.setItem("headscalePreAuthHide",e?"true":"false")),X.set((localStorage.getItem("showACLPages")||"false")=="true"),X.subscribe(e=>localStorage.setItem("showACLPages",e?"true":"false"))}),[]}class Pe extends K{constructor(e){super(),R(this,e,Ve,null,q,{})}}function Ne(r){let e,a,t,s,n,f,m,l,w,S,i;a=new Pe({}),n=new Te({}),l=new je({});const v=r[2].default,u=xe(v,r,r[1],null);return{c(){e=I("main"),G(a.$$.fragment),t=C(),s=I("div"),G(n.$$.fragment),f=C(),m=I("div"),G(l.$$.fragment),w=C(),S=I("div"),u&&u.c(),this.h()},l(o){e=$(o,"MAIN",{"data-theme":!0,class:!0});var d=L(e);W(a.$$.fragment,d),t=D(d),s=$(d,"DIV",{class:!0});var _=L(s);W(n.$$.fragment,_),f=D(_),m=$(_,"DIV",{class:!0});var h=L(m);W(l.$$.fragment,h),w=D(h),S=$(h,"DIV",{});var x=L(S);u&&u.l(x),x.forEach(k),h.forEach(k),_.forEach(k),d.forEach(k),this.h()},h(){b(m,"class","flex flex-1 min-w-0 flex-col bg-base-100"),b(s,"class","flex"),b(e,"data-theme",r[0]),b(e,"class","flex flex-col")},m(o,d){j(o,e,d),F(a,e,null),g(e,t),g(e,s),F(n,s,null),g(s,f),g(s,m),F(l,m,null),g(m,w),g(m,S),u&&u.m(S,null),i=!0},p(o,[d]){u&&u.p&&(!i||d&2)&&Ie(u,v,o,o[1],i?Me(v,o[1],d,null):$e(o[1]),null),(!i||d&1)&&b(e,"data-theme",o[0])},i(o){i||(y(a.$$.fragment,o),y(n.$$.fragment,o),y(l.$$.fragment,o),y(u,o),i=!0)},o(o){E(a.$$.fragment,o),E(n.$$.fragment,o),E(l.$$.fragment,o),E(u,o),i=!1},d(o){o&&k(e),J(a),J(n),J(l),u&&u.d(o)}}}function Ue(r,e,a){let t;Z(r,Y,f=>a(0,t=f));let{$$slots:s={},$$scope:n}=e;return r.$$set=f=>{"$$scope"in f&&a(1,n=f.$$scope)},[t,n,s]}class We extends K{constructor(e){super(),R(this,e,Ue,Ne,q,{})}}export{We as component,Ge as universal};
